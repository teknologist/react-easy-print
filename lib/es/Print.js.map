{"version":3,"sources":["../../src/Print.jsx"],"names":["React","PropTypes","PrintProvider","debug","propTypes","name","string","children","node","isRequired","main","bool","single","exclusive","printOnly","fullWidth","contextTypes","childContextTypes","Print","props","state","printOffsetLeft","printOffsetTop","isSingle","context","printProvider","regPrintable","window","matchMedia","onchange","isPrint","matches","bodyRect","document","body","getBoundingClientRect","elem","printElement","elemRect","left","top","setState","unregPrintable","main_","s","_main","excl_","_exclusive","offset_","marginTop","marginLeft","globalClassName","className","root","el","Component"],"mappings":"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","file":"Print.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport PrintProvider from './PrintProvider';\nimport { debug } from './common';\nimport s from './Print.css';\n\nconst propTypes = {\n\tname: PropTypes.string,\n\tchildren: PropTypes.node.isRequired,\n\tmain: PropTypes.bool,\n\tsingle: PropTypes.bool,\n\texclusive: PropTypes.bool,\n\tprintOnly: PropTypes.bool,\n\tfullWidth: PropTypes.bool,\n};\nconst contextTypes = PrintProvider.childContextTypes;\n\nexport default class Print extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tprintOffsetLeft: 0,\n\t\t\tprintOffsetTop: 0,\n\t\t};\n\t}\n\tcomponentDidMount() {\n\t\tif (this.props.name) {\n\t\t\tdebug('init printable', this.props.name);\n\t\t\tconst isSingle = this.props.main || this.props.single;\n\t\t\tthis.context.printProvider &&\n\t\t\t\tthis.context.printProvider.regPrintable(\n\t\t\t\t\tthis.props.name,\n\t\t\t\t\t<Print {...this.props} />,\n\t\t\t\t\tisSingle,\n\t\t\t\t);\n\t\t}\n\n\t\tif (this.props.main || this.props.single) {\n\t\t\twindow.matchMedia('print').onchange = () => {\n\t\t\t\tconst isPrint = window.matchMedia('print').matches;\n\n\t\t\t\tif (isPrint) {\n\t\t\t\t\tconst bodyRect = document.body.getBoundingClientRect();\n\t\t\t\t\tconst elem = this.printElement;\n\t\t\t\t\tconst elemRect = elem && elem.getBoundingClientRect();\n\t\t\t\t\tconst printOffsetLeft = elemRect && elemRect.left - bodyRect.left;\n\t\t\t\t\tconst printOffsetTop = elemRect && elemRect.top - bodyRect.top;\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tprintOffsetTop,\n\t\t\t\t\t\tprintOffsetLeft,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tprintOffsetTop: 0,\n\t\t\t\t\t\tprintOffsetLeft: 0,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (this.props.name) {\n\t\t\tdebug('remove printable', this.props.name);\n\t\t\tconst isSingle = this.props.main || this.props.single;\n\t\t\tthis.context.printProvider &&\n\t\t\t\tthis.context.printProvider.unregPrintable(this.props.name, isSingle);\n\t\t}\n\n\t\tif (this.props.main || this.props.single) {\n\t\t\twindow.matchMedia('print').onchange = null;\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tchildren,\n\t\t\tmain,\n\t\t\tsingle,\n\t\t\texclusive,\n\t\t\tprintOnly,\n\t\t\tfullWidth,\n\t\t} = this.props;\n\t\tconst { printOffsetLeft, printOffsetTop } = this.state;\n\t\tconst main_ = main || single ? s._main : '';\n\t\tconst excl_ = exclusive || printOnly ? s._exclusive : '';\n\t\tconst isPrint = window.matchMedia('print').matches;\n\t\tconst offset_ =\n\t\t\t(printOffsetTop || printOffsetLeft) && main_ && isPrint\n\t\t\t\t? { marginTop: -printOffsetTop, marginLeft: -printOffsetLeft }\n\t\t\t\t: {};\n\t\tconst globalClassName = 'react-easy-print-print'; // using in hiddenAll\n\t\tconst className = fullWidth\n\t\t\t? `${globalClassName} ${s.root} ${main_} ${excl_} fullWidth`\n\t\t\t: `${globalClassName} ${s.root} ${main_} ${excl_}`;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={el => (this.printElement = el)}\n\t\t\t\tstyle={offset_}\n\t\t\t\tclassName={className}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n}\nPrint.propTypes = propTypes;\nPrint.contextTypes = contextTypes;\n"]}